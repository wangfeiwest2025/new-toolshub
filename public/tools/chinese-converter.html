<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¸­æ–‡è½¬æ¢å·¥å…· - New ToolsHub</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸ› ï¸</text></svg>">
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/fontawesome-all.min.css">
    <link rel="stylesheet" href="../css/bootstrap.min.css">
    <link rel="manifest" href="/manifest.json">
    <meta name="theme-color" content="#e83e8c">
    <style>
        .conversion-mode {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-bottom: 20px;
        }
        
        .mode-btn {
            padding: 10px 20px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            background: white;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .mode-btn:hover {
            border-color: #e83e8c;
        }
        
        .mode-btn.active {
            background-color: #e83e8c;
            color: white;
            border-color: #e83e8c;
        }
        
        .pinyin-output {
            font-size: 18px;
            line-height: 2;
            padding: 15px;
            background-color: #f8f9fa;
            border-radius: 8px;
            max-height: 300px;
            overflow-y: auto;
        }
        
        .pinyin-word {
            display: inline-block;
            margin: 5px;
            padding: 8px 12px;
            background: white;
            border-radius: 6px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .pinyin-word .hanzi {
            font-size: 24px;
            margin-right: 8px;
            color: #333;
        }
        
        .pinyin-word .py {
            color: #e83e8c;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <nav class="navbar navbar-expand-lg" style="background: linear-gradient(135deg, #e83e8c, #d63384); padding: 1rem 0; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
        <div class="container">
            <a class="navbar-brand" href="/" style="color: white; font-weight: 700; display: flex; align-items: center;">
                <i class="fas fa-tools"></i> New ToolsHub
            </a>
        </div>
    </nav>

    <div class="container mt-4">
        <div class="tool-container">
            <div class="tool-header">
                <h1 class="tool-title"><i class="fas fa-font"></i> ä¸­æ–‡è½¬æ¢å·¥å…·</h1>
                <p class="tool-description">ç®€ç¹ä½“è½¬æ¢ã€æ‹¼éŸ³æ ‡æ³¨ã€æ•°å­—é‡‘é¢è½¬ä¸­æ–‡å¤§å†™ã€‚</p>
            </div>
            
            <div class="tool-content">
                <div class="conversion-mode">
                    <button class="mode-btn active" data-mode="s2t">
                        <i class="fas fa-arrow-right"></i> ç®€ä½“â†’ç¹ä½“
                    </button>
                    <button class="mode-btn" data-mode="t2s">
                        <i class="fas fa-arrow-left"></i> ç¹ä½“â†’ç®€ä½“
                    </button>
                    <button class="mode-btn" data-mode="pinyin">
                        <i class="fas fa-volume-up"></i> æ‹¼éŸ³æ ‡æ³¨
                    </button>
                    <button class="mode-btn" data-mode="uppercase">
                        <i class="fas fa-coins"></i> æ•°å­—â†’å¤§å†™
                    </button>
                    <button class="mode-btn" data-mode="digit">
                        <i class="fas fa-hashtag"></i> å¤§å†™â†’æ•°å­—
                    </button>
                </div>
                
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group">
                            <label for="inputText" class="form-label">è¾“å…¥:</label>
                            <textarea id="inputText" class="form-control" rows="8" placeholder="åœ¨æ­¤è¾“å…¥ä¸­æ–‡æ–‡æœ¬..."></textarea>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            <label for="outputText" class="form-label">è¾“å‡º:</label>
                            <textarea id="outputText" class="form-control" rows="8" readonly placeholder="è½¬æ¢ç»“æœå°†æ˜¾ç¤ºåœ¨è¿™é‡Œ..."></textarea>
                        </div>
                    </div>
                </div>
                
                <div id="pinyinOutput" class="pinyin-output mt-3" style="display: none;"></div>
                
                <div class="action-buttons mt-3">
                    <button id="convertBtn" class="btn btn-pink btn-lg" style="background: linear-gradient(135deg, #e83e8c, #d63384); color: white; border: none;">
                        <i class="fas fa-sync-alt"></i> è½¬æ¢
                    </button>
                    <button id="swapBtn" class="btn btn-outline-primary">
                        <i class="fas fa-exchange-alt"></i> äº¤æ¢
                    </button>
                    <button id="clearBtn" class="btn btn-outline-secondary">
                        <i class="fas fa-trash-alt"></i> æ¸…ç©º
                    </button>
                    <button id="copyBtn" class="btn btn-outline-info">
                        <i class="fas fa-copy"></i> å¤åˆ¶
                    </button>
                </div>
            </div>
        </div>
    </div>

    <footer class="footer">
        <div class="container">
            <p>New ToolsHub - Inspired by xJavaFxTool | Comprehensive Developer Tools</p>
        </div>
    </footer>

    <script>
        // DOM Elements
        const inputText = document.getElementById('inputText');
        const outputText = document.getElementById('outputText');
        const modeButtons = document.querySelectorAll('.mode-btn');
        const convertBtn = document.getElementById('convertBtn');
        const swapBtn = document.getElementById('swapBtn');
        const clearBtn = document.getElementById('clearBtn');
        const copyBtn = document.getElementById('copyBtn');
        const pinyinOutput = document.getElementById('pinyinOutput');
        
        // State
        let selectedMode = 's2t';
        
        // Simplified to Traditional mapping (common characters only)
        const s2tMap = {
            // Common radicals and components
            'è® ': 'è¨€', 'ä»‘': 'ä¾–', 'ä»†': 'åƒ•', 'ä»': 'å¾', 'ä»“': 'å€‰', 'ä¸ª': 'å€‹',
            'ä¸º': 'ç‚º', 'ä¹‰': 'ç¾©', 'ä¸¾': 'èˆ‰', 'ä¸': 'èˆ‡', 'è½¦': 'è»Š', 'é•¿': 'é•·',
            'è§': 'è¦‹', 'è´': 'è²', 'æ°”': 'æ°£', 'å¸': 'å¹£', 'ä¸œ': 'æ±', 'ä¸': 'çµ²',
            'ä¸¢': 'ä¸Ÿ', 'ä¸¤': 'å…©', 'ä¸¥': 'åš´', 'ä¸§': 'å–ª', 'ä¸ª': 'å€‹', 'ä¸°': 'è±',
            'ä¸´': 'è‡¨', 'ä¸½': 'éº—', 'ä¹¦': 'æ›¸', 'ä¹°': 'è²·', 'ä¹±': 'äº‚', 'ä¹³': 'ä¹³',
            'äº†': 'äº†', 'äº‰': 'çˆ­', 'äº‹': 'äº‹', 'äº': 'æ–¼', 'äº': 'è™§', 'äº‘': 'é›²',
            'äº”': 'äº”', 'äº•': 'äº•', 'äºš': 'äº', 'äº›': 'äº›', 'äº¡': 'äº¡', 'äº¤': 'äº¤',
            'äº¥': 'äº¥', 'äº¦': 'äº¦', 'äº§': 'ç”¢', 'äº¨': 'äº¨', 'äº©': 'ç•', 'äº«': 'äº«',
            'äº¬': 'äº¬', 'äº­': 'äº­', 'äº®': 'äº®', 'äº²': 'è¦ª', 'äºº': 'äºº', 'äº¿': 'å„„',
            'ä»€': 'ä»€', 'ä»': 'ä»', 'ä»…': 'åƒ…', 'ä»Š': 'ä»Š', 'ä»‹': 'ä»‹', 'ä»': 'ä»',
            'ä»£': 'ä»£', 'ä»¤': 'ä»¤', 'ä»¥': 'ä»¥', 'ä»¬': 'å€‘', 'ä»°': 'ä»°', 'ä»²': 'ä»²',
            'ä»¶': 'ä»¶', 'ä»·': 'åƒ¹', 'ä»»': 'ä»»', 'ä»½': 'ä»½', 'ä»¿': 'ä»¿', 'ä¼™': 'ä¼™',
            'ä¼š': 'æœƒ', 'ä¼': 'å‚˜', 'ä¼Ÿ': 'å‰', 'ä¼ ': 'å‚³', 'ä¼¤': 'å‚·', 'ä¼¦': 'å€«',
            'ä¼ª': 'å½', 'ä½“': 'é«”', 'ä½•': 'ä½•', 'ä½™': 'é¤˜', 'ä½›': 'ä½›', 'ä½œ': 'ä½œ',
            'ä½ ': 'ä½ ', 'ä½©': 'ä½©', 'ä½¬': 'ä½¬', 'ä½³': 'ä½³', 'ä¾': 'ä¾', 'ä¾›': 'ä¾›',
            'ä¾': 'ä¾', 'ä¾ ': 'ä¿ ', 'ä¿': 'ä¿', 'ä¿': 'ä¿', 'ä¿Š': 'ä¿Š', 'ä¿—': 'ä¿—',
            'ä¿˜': 'ä¿˜', 'ä¿': 'ä¿', 'ä¿¡': 'ä¿¡', 'ä¿©': 'å€†', 'ä¿­': 'å„‰', 'ä¿®': 'ä¿®',
            'ä¿¯': 'ä¿¯', 'ä¿±': 'ä¿±', 'ä¿³': 'ä¿³', 'ä¿¸': 'ä¿¸', 'ä¿º': 'ä¿º', 'å€º': 'å‚µ',
            'å€Ÿ': 'å€Ÿ', 'å€Ÿ': 'å€Ÿ', 'å€¡': 'å€¡', 'å€¦': 'å€¦', 'å€©': 'å€©', 'å€ª': 'å€ª',
            'å€«': 'å€«', 'å€­': 'å€­', 'å€º': 'å‚µ', 'å€Ÿ': 'å€Ÿ', 'å€¡': 'å€¡', 'å€¦': 'å€¦',
            'å€©': 'å€©', 'å€ª': 'å€ª', 'å€«': 'å€«', 'å€¤': 'å€¤', 'å€’': 'å€’', 'å€”': 'å€”',
            'å€˜': 'å€˜', 'å€™': 'å€™', 'å€š': 'å€š', 'å€Ÿ': 'å€Ÿ', 'å€¡': 'å€¡', 'åš': 'åš',
            'åœ': 'åœ', 'å¥': 'å¥', 'å¶': 'å¶', 'å·': 'å·', 'å': 'å', 'å•': 'å•',
            'åš': 'åš', 'åœ': 'åœ', 'å¥': 'å¥', 'å¶': 'å¶', 'å·': 'å·', 'å': 'å',
            'å‡': 'å‡', 'å“': 'å“', 'å²': 'å²', 'å‚…': 'å‚…', 'å‚': 'å‚', 'å‚‘': 'å‚‘',
            'å‚£': 'å‚£', 'å‚…': 'å‚…', 'å‚¥': 'å„»', 'å‚¨': 'å„²', 'å‚¨': 'å„²', 'å‚¬': 'å‚¬',
            'å‚©': 'å„º', 'å‚²': 'å‚²', 'å‚­': 'å‚­', 'åƒ§': 'åƒ§', 'åƒ§': 'åƒ§', 'åƒµ': 'åƒµ',
            'åƒµ': 'åƒµ', 'åƒ»': 'åƒ»', 'åƒ»': 'åƒ»', 'å„’': 'å„’', 'å„’': 'å„’', 'å„¡': 'å„¡',
            'å„¡': 'å„¡', 'å„ª': 'å„ª', 'å„ª': 'å„ª', 'å‚¨': 'å„²', 'å‚¨': 'å„²',
            
            // Common simplified characters
            'ä¸‡': 'è¬', 'ä¸‰': 'ä¸‰', 'ä¸Š': 'ä¸Š', 'ä¸‹': 'ä¸‹', 'ä¸': 'ä¸', 'ä¸': 'èˆ‡',
            'ä¸': 'ä¸', 'ä¸‘': 'ä¸‘', 'ä¸“': 'å°ˆ', 'ä¸”': 'ä¸”', 'ä¸–': 'ä¸–', 'ä¸˜': 'ä¸˜',
            'ä¸™': 'ä¸™', 'ä¸š': 'æ¥­', 'ä¸›': 'å¢', 'ä¸œ': 'æ±', 'ä¸': 'çµ²', 'ä¸': 'ä¸',
            'ä¸¢': 'ä¸Ÿ', 'ä¸¤': 'å…©', 'ä¸¥': 'åš´', 'ä¸§': 'å–ª', 'ä¸ª': 'å€‹', 'ä¸­': 'ä¸­',
            'ä¸°': 'ä¸°', 'ä¸²': 'ä¸²', 'ä¸´': 'è‡¨', 'ä¸¸': 'ä¸¸', 'ä¸¹': 'ä¸¹', 'ä¸º': 'ç‚º',
            'ä¸»': 'ä¸»', 'ä¸½': 'éº—', 'ä¸¾': 'èˆ‰', 'ä¸¿': 'ä¸¿', 'ä¹ƒ': 'ä¹ƒ', 'ä¹…': 'ä¹…',
            'ä¹ˆ': 'éº¼', 'ä¹‰': 'ç¾©', 'ä¹‹': 'ä¹‹', 'ä¹Œ': 'çƒ', 'ä¹': 'ä¹', 'ä¹': 'ä¹',
            'ä¹': 'ä¹', 'ä¹': 'æ¨‚', 'ä¹’': 'ä¹’', 'ä¹“': 'ä¹“', 'ä¹”': 'å–¬', 'ä¹–': 'ä¹–',
            'ä¹˜': 'ä¹˜', 'ä¹™': 'ä¹™', 'ä¹': 'ä¹', 'ä¹': 'ä¹', 'ä¹Ÿ': 'ä¹Ÿ', 'ä¹ ': 'ç¿’',
            'ä¹¡': 'é„‰', 'ä¹¦': 'æ›¸', 'ä¹°': 'è²·', 'ä¹±': 'äº‚', 'ä¹³': 'ä¹³', 'ä¹¾': 'ä¹¾',
            'äº†': 'äº†', 'äºˆ': 'äºˆ', 'äº‰': 'çˆ­', 'äº‹': 'äº‹', 'äºŒ': 'äºŒ', 'äº': 'æ–¼',
            'äº': 'è™§', 'äº‘': 'é›²', 'äº’': 'äº’', 'äº”': 'äº”', 'äº•': 'äº•', 'äº˜': 'äº™',
            'äºš': 'äº', 'äº›': 'äº›', 'äº¡': 'äº¡', 'äº¢': 'äº¢', 'äº¤': 'äº¤', 'äº¥': 'äº¥',
            'äº¦': 'äº¦', 'äº§': 'ç”¢', 'äº¨': 'äº¨', 'äº©': 'ç•', 'äº«': 'äº«', 'äº¬': 'äº¬',
            'äº­': 'äº­', 'äº®': 'äº®', 'äº²': 'è¦ª', 'äº³': 'äº³', 'äºµ': 'è¤»', 'äº¶': 'äº¶',
            
            // More common characters
            'äºº': 'äºº', 'äº¿': 'å„„', 'ä»€': 'ä»€', 'ä»': 'ä»', 'ä»‚': 'ä»‚', 'ä»ƒ': 'ä»ƒ',
            'ä»„': 'ä»„', 'ä»…': 'åƒ…', 'ä»†': 'åƒ•', 'ä»‡': 'è®', 'ä»Š': 'ä»Š', 'ä»‹': 'ä»‹',
            'ä»': 'ä»', 'ä»': 'å¾', 'ä»‘': 'ä¾–', 'ä»“': 'å€‰', 'ä»”': 'ä»”', 'ä»•': 'ä»•',
            'ä»–': 'ä»–', 'ä»—': 'ä»—', 'ä»˜': 'ä»˜', 'ä»™': 'ä»™', 'ä»': 'ä»', 'ä»Ÿ': 'ä»Ÿ',
            'ä»£': 'ä»£', 'ä»¤': 'ä»¤', 'ä»¥': 'ä»¥', 'ä»¨': 'ä»¨', 'ä»ª': 'å„€', 'ä»¬': 'å€‘',
            'ä»°': 'ä»°', 'ä»²': 'ä»²', 'ä»¶': 'ä»¶', 'ä»·': 'åƒ¹', 'ä»»': 'ä»»', 'ä»½': 'ä»½',
            'ä»¿': 'ä»¿', 'ä¼™': 'ä¼™', 'ä¼š': 'æœƒ', 'ä¼•': 'ä¼•', 'ä¼': 'å‚˜', 'ä¼Ÿ': 'å‰',
            'ä¼ ': 'å‚³', 'ä¼¢': 'ä¼¢', 'ä¼¤': 'å‚·', 'ä¼¥': 'å€€', 'ä¼¦': 'å€«', 'ä¼§': 'å‚–',
            'ä¼ª': 'å½', 'ä¼«': 'ä½‡', 'ä½“': 'é«”', 'ä½•': 'ä½•', 'ä½™': 'é¤˜', 'ä½›': 'ä½›',
            'ä½œ': 'ä½œ', 'ä½ ': 'ä½ ', 'ä½': 'ä½', 'ä½': 'ä½', 'ä½Ÿ': 'ä½Ÿ', 'ä½©': 'ä½©',
            'ä½¬': 'ä½¬', 'ä½¯': 'ä½¯', 'ä½³': 'ä½³', 'ä½¶': 'ä½¶', 'ä½»': 'ä½»', 'ä½¼': 'ä½¼',
            'ä½½': 'ä½½', 'ä½¾': 'ä½¾', 'ä½¿': 'ä½¿', 'ä¾ƒ': 'ä¾ƒ', 'ä¾„': 'ä¾„', 'ä¾ˆ': 'ä¾ˆ',
            'ä¾‹': 'ä¾‹', 'ä¾': 'ä¾', 'ä¾': 'ä¾', 'ä¾‘': 'ä¾‘', 'ä¾”': 'ä¾”', 'ä¾—': 'ä¾—',
            'ä¾›': 'ä¾›', 'ä¾': 'ä¾', 'ä¾ ': 'ä¿ ', 'ä¾£': 'ä¾¶', 'ä¿': 'ä¿', 'ä¿‘': 'ä¿‘',
            'ä¿Ÿ': 'ä¿Ÿ', 'ä¿¨': 'å„¼', 'ä¿©': 'å€†', 'ä¿­': 'å„‰', 'ä¿®': 'ä¿®', 'ä¿¯': 'ä¿¯',
            'ä¿±': 'ä¿±', 'ä¿³': 'ä¿³', 'ä¿¸': 'ä¿¸', 'ä¿º': 'ä¿º', 'ä¿¾': 'ä¿¾', 'å€¬': 'å€¬',
            'å€­': 'å€­', 'å€º': 'å‚µ', 'å€Ÿ': 'å€Ÿ', 'å€¡': 'å€¡', 'å€¦': 'å€¦', 'å€“': 'å€“',
            'å€©': 'å€©', 'å€ª': 'å€ª', 'å€«': 'å€«', 'å€­': 'å€­', 'å€º': 'å‚µ', 'å€Ÿ': 'å€Ÿ',
            'å€¡': 'å€¡', 'å€¦': 'å€¦', 'å€©': 'å€©', 'å€ª': 'å€ª', 'å€«': 'å€«', 'å€¤': 'å€¤',
            
            // Additional common characters
            'ä¿': 'ä¿', 'ä¿': 'ä¿', 'ä¿Ÿ': 'ä¿Ÿ', 'ä¿Š': 'ä¿Š', 'ä¿£': 'ä¿£', 'ä¿¦': 'ä¿¦',
            'ä¿¨': 'å„¼', 'ä¿©': 'å€†', 'ä¿ª': 'å„·', 'ä¿­': 'å„‰', 'ä¿®': 'ä¿®', 'ä¿¯': 'ä¿¯',
            'ä¿±': 'ä¿±', 'ä¿³': 'ä¿³', 'ä¿¸': 'ä¿¸', 'ä¿º': 'ä¿º', 'ä¿¾': 'ä¿¾', 'å€¬': 'å€¬',
            'å€­': 'å€­', 'å€º': 'å‚µ', 'å€Ÿ': 'å€Ÿ', 'å€¡': 'å€¡', 'å€¦': 'å€¦', 'å€©': 'å€©',
            'å€ª': 'å€ª', 'å€«': 'å€«', 'å€’': 'å€’', 'å€“': 'å€“', 'å€”': 'å€”', 'å€˜': 'å€˜',
            'å€™': 'å€™', 'å€š': 'å€š', 'å€Ÿ': 'å€Ÿ', 'å€¡': 'å€¡', 'åš': 'åš', 'åœ': 'åœ',
            'å¥': 'å¥', 'å¶': 'å¶', 'å·': 'å·', 'å': 'å', 'å•': 'å•', 'åš': 'åš',
            'åœ': 'åœ', 'å¥': 'å¥', 'å¶': 'å¶', 'å·': 'å·', 'å': 'å', 'å‡': 'å‡',
            'å“': 'å“', 'å²': 'å²', 'å‚…': 'å‚…', 'å‚': 'å‚', 'å‚‘': 'å‚‘', 'å‚£': 'å‚£',
            'å‚…': 'å‚…', 'å‚¥': 'å„»', 'å‚§': 'å„', 'å‚¨': 'å„²', 'å‚¨': 'å„²', 'å‚¬': 'å‚¬',
            'å‚©': 'å„º', 'å‚²': 'å‚²', 'å‚­': 'å‚­', 'åƒ§': 'åƒ§', 'åƒµ': 'åƒµ', 'åƒ»': 'åƒ»',
            'å„’': 'å„’', 'å„¡': 'å„¡', 'å„ª': 'å„ª', 'å„²': 'å„²', 'å‚¨': 'å„²', 'å„¿': 'å…’',
            'å…': 'å…', 'å…ƒ': 'å…ƒ', 'å…„': 'å…„', 'å……': 'å……', 'å…†': 'å…†', 'å…ˆ': 'å…ˆ',
            'å…‰': 'å…‰', 'å…‹': 'å…‹', 'å…': 'å…', 'å…”': 'å…”', 'å…•': 'å…•', 'å…–': 'å…—',
            'å…š': 'é»¨', 'å…œ': 'å…œ', 'å…¢': 'å…¢', 'å…¥': 'å…¥', 'å…¨': 'å…¨', 'ä¸¤': 'å…©',
            'å…«': 'å…«', 'å…¬': 'å…¬', 'å…­': 'å…­', 'å…°': 'è˜­', 'å…±': 'å…±', 'å…³': 'é—œ',
            'å…´': 'èˆˆ', 'å…µ': 'å…µ', 'å…¶': 'å…¶', 'å…·': 'å…·', 'å…¸': 'å…¸', 'å…¹': 'èŒ²',
            'å…»': 'é¤Š', 'å…¼': 'å…¼', 'å…½': 'ç¸', 'å†€': 'å†€', 'å†': 'å†', 'å†‰': 'å†‰',
            'å†Œ': 'å†Š', 'å†': 'å†', 'å†•': 'å†•', 'å†—': 'å†—', '': 'å†¤', 'å†¥': 'å†¤å†¥',
            'å†¬': 'å†¬', 'å†°': 'å†°', 'å†²': 'æ²–', 'å†³': 'æ±º', 'å†µ': 'æ³', 'å†¶': 'å†¶',
            'å†·': 'å†·', 'å‡': 'å‡', 'å‡ ': 'å‡ ', 'å‡¡': 'å‡¡', 'å‡¤': 'é³³', 'å‡¶': 'å‡¶',
            'å‡±': 'å‡±', 'å‡³': 'å‡³', 'åˆ': 'åˆ', 'åˆƒ': 'åˆƒ', 'åˆ†': 'åˆ†', 'åˆ‡': 'åˆ‡',
            'åˆˆ': 'åˆˆ', 'åˆŠ': 'åˆŠ', 'åˆ‘': 'åˆ‘', 'åˆ’': 'åŠƒ', 'åˆ—': 'åˆ—', 'åˆ˜': 'åŠ‰',
            'åˆ™': 'å‰‡', 'åˆš': 'å‰›', 'åˆ›': 'å‰µ', 'å‰': 'å‰', 'å‰‚': 'åŠ‘', 'å‰ƒ': 'å‰ƒ',
            'å‰Š': 'å‰Š', 'å‰Œ': 'å‰Œ', 'å‰': 'å‰', 'å‰‹': 'å‰‹', 'å‰‘': 'åŠ', 'å‰¥': 'å‰',
            'å‰': 'å‰', 'å‰©': 'å‰©', 'å‰¿': 'å‰¿', 'åŠ¾': 'åŠ¾', 'å‹ƒ': 'å‹ƒ', 'å‹‡': 'å‹‡',
            'å‹‰': 'å‹‰', 'å‹‹': 'å‹›', 'å‹£': 'å‹£', 'å‹º': 'å‹º', 'å‹¾': 'å‹¾', 'å‹¿': 'å‹¿',
            'åŒ€': 'åŒ€', 'åŒ…': 'åŒ…', 'åŒ†': 'åŒ†', 'åŒˆ': 'åŒˆ', 'åŒ–': 'åŒ–', 'åŒ—': 'åŒ—',
            'åŒ™': 'åŒ™', 'åŒ': 'åŒ', 'åŒª': 'åŒª', 'åŒ ': 'åŒ ', 'åŒ¡': 'åŒ¡', 'åŒ£': 'åŒ£',
            'åŒª': 'åŒª', 'åŒ®': 'åŒ±', 'åŒ¾': 'åŒ¾', 'åŒ¿': 'åŒ¿', 'å€': 'å€', 'å': 'å',
            'å‰': 'å‰', 'å‘': 'å‘', 'å’': 'å’', 'å“': 'å“', 'å•': 'å–®', 'å–': 'è³£',
            'å—': 'å—', 'åœ': 'åœ', 'å…': 'å…', 'å': 'å”', 'åš': 'åš', 'å ': 'å ',
            'å¡': 'å¡', 'å¢': 'ç›§', 'å¯': 'å¯', 'å‚': 'å» ', 'å¶': 'å¶', 'åˆ': 'åˆ',
            'å‰': 'å‰', 'åŠ': 'åŠ', 'å‹': 'å‹', 'åŒ': 'é›™', 'å': 'å', 'å‘': 'ç™¼',
            'å”': 'å”', 'å–': 'å–', 'å—': 'å—', 'å˜': 'è®Š', 'å™': 'æ•˜', 'åŸ': 'åŸ',
            'å ': 'ç–Š', 'å£': 'å£', 'å›—': 'å›—', 'åœŸ': 'åœŸ', 'å£«': 'å£«', 'å¤‚': 'å¤‚',
            'å¤Š': 'å¤Š', 'å¤•': 'å¤•', 'å¤§': 'å¤§', 'å¥³': 'å¥³', 'å­': 'å­', 'å®€': 'å®€',
            'å¯¸': 'å¯¸', 'å°': 'å°', 'å°¢': 'å°¢', 'å°¸': 'å°¸', 'å±®': 'å±®', 'å±±': 'å±±',
            'å·›': 'å·›', 'å·¥': 'å·¥', 'å·±': 'å·±', 'å·¾': 'å·¾', 'å¹²': 'å¹²', 'å¹º': 'å¹º',
            'å¹¿': 'å»£', 'å»´': 'å»´', 'å»¾': 'å»¾', 'å¼‹': 'å¼‹', 'å¼“': 'å¼“', 'å½': 'å½',
            'å½‘': 'å½‘', 'å½¡': 'å½¡', 'å½³': 'å½³', 'å¿ƒ': 'å¿ƒ', 'æˆˆ': 'æˆˆ', 'æˆ·': 'æˆ¶',
            'æ‰‹': 'æ‰‹', 'æ”¯': 'æ”¯', 'æ”´': 'æ”´', 'æ–‡': 'æ–‡', 'æ–—': 'æ–—', 'æ–¤': 'æ–¤',
            'æ–¹': 'æ–¹', 'æ— ': 'ç„¡', 'æ—¥': 'æ—¥', 'æ›°': 'æ›°', 'æœˆ': 'æœˆ', 'æœ¨': 'æœ¨',
            'æ¬ ': 'æ¬ ', 'æ­¢': 'æ­¢', 'æ­¹': 'æ­¹', 'æ®³': 'æ®³', 'æ¯‹': 'æ¯‹', 'æ¯”': 'æ¯”',
            'æ¯›': 'æ¯›', 'æ°': 'æ°', 'æ°”': 'æ°£', 'æ°´': 'æ°´', 'ç«': 'ç«', 'çˆª': 'çˆª',
            'çˆ¶': 'çˆ¶', 'çˆ»': 'çˆ»', 'çˆ¿': 'çˆ¿', 'ç‰‡': 'ç‰‡', 'ç‰™': 'ç‰™', 'ç‰›': 'ç‰›',
            'çŠ¬': 'çŠ¬', 'ç„': 'ç„', 'ç‰': 'ç‰', 'ç“œ': 'ç“œ', 'ç“¦': 'ç“¦', 'ç”˜': 'ç”˜',
            'ç”Ÿ': 'ç”Ÿ', 'ç”¨': 'ç”¨', 'ç”°': 'ç”°', 'ç–‹': 'ç–‹', 'ç–’': 'ç–’', 'ç™¶': 'ç™¶',
            'ç™½': 'ç™½', 'çš®': 'çš®', 'çš¿': 'çš¿', 'ç›®': 'ç›®', 'çŸ›': 'çŸ›', 'çŸ¢': 'çŸ¢',
            'çŸ³': 'çŸ³', 'ç¤º': 'ç¤º', 'ç¦¸': 'ç¦¸', 'ç¦¾': 'ç¦¾', 'ç©´': 'ç©´', 'ç«‹': 'ç«‹',
            'ç«¹': 'ç«¹', 'ç±³': 'ç±³', 'çºŸ': 'ç³¹', 'ç½‘': 'ç½‘', 'ç¾Š': 'ç¾Š', 'ç¾½': 'ç¾½',
            'è€': 'è€', 'è€Œ': 'è€Œ', 'è€’': 'è€’', 'è€³': 'è€³', 'è¿': 'è¿', 'è‚‰': 'è‚‰',
            'è‡£': 'è‡£', 'è‡ª': 'è‡ª', 'è‡³': 'è‡³', 'è‡¼': 'è‡¼', 'èˆŒ': 'èˆŒ', 'èˆ›': 'èˆ›',
            'èˆŸ': 'èˆŸ', 'è‰®': 'è‰®', 'è‰²': 'è‰²', 'è‰¸': 'è‰¸', 'è™': 'è™', 'è™«': 'è™«',
            'è¡€': 'è¡€', 'è¡Œ': 'è¡Œ', 'è¡£': 'è¡£', 'è¦‹': 'è¦‹', 'è§’': 'è§’', 'è¨€': 'è¨€',
            'è°·': 'è°·', 'è±†': 'è±†', 'è±•': 'è±•', 'è±¸': 'è±¸', 'è²': 'è²', 'èµ¤': 'èµ¤',
            'èµ°': 'èµ°', 'è¶³': 'è¶³', 'èº«': 'èº«', 'è»Š': 'è»Š', 'è¾›': 'è¾›', 'è¾°': 'è¾°',
            'è¾µ': 'è¾µ', 'é‚‘': 'é‚‘', 'é…‰': 'é…‰', 'é‡†': 'é‡†', 'é‡Œ': 'é‡Œ', 'é‡‘': 'é‡‘',
            'é•¿': 'é•·', 'é—¨': 'é–€', 'é˜œ': 'é˜œ', 'éš¶': 'éš¸', 'éš¹': 'éš¹', 'é›¨': 'é›¨',
            'é‘': 'é‘', 'é': 'é', 'é¢': 'é¢', 'é©': 'é©', 'éŸ‹': 'éŸ‹', 'éŸ­': 'éŸ­',
            'éŸ³': 'éŸ³', 'é¡µ': 'é ', 'é£': 'é¢¨', 'é£': 'é£›', 'é£Ÿ': 'é£Ÿ', 'é¦–': 'é¦–',
            'é¦™': 'é¦™', 'é©¬': 'é¦¬', 'éª¨': 'éª¨', 'é«˜': 'é«˜', 'é«Ÿ': 'é«Ÿ', 'é¬¥': 'é¬¥',
            'é¬¯': 'é¬¯', 'é¬²': 'é¬²', 'é¬¼': 'é¬¼', 'é±¼': 'é­š', 'é¸Ÿ': 'é³¥', 'é¹µ': 'é¹µ',
            'é¹¿': 'é¹¿', 'éº¦': 'éº¥', 'éº»': 'éº»', 'é»„': 'é»ƒ', 'é»': 'é»', 'é»‘': 'é»‘',
            'é»¹': 'é»¹', 'é»¾': 'é»¾', 'é¼': 'é¼', 'é¼“': 'é¼“', 'é¼ ': 'é¼ ', 'é¼»': 'é¼»',
            'é½': 'é½Š', 'é½¿': 'é½’', 'é¾™': 'é¾', 'é¾Ÿ': 'é¾œ',
            
            // Simplified radicals
            'é’…': 'é‡’', 'è® ': 'è¨€', 'çºŸ': 'ç³¹', 'ç¬': 'ç¬', 'å¿„': 'å¿„', 'çŠ­': 'çŠ­',
            'æ°µ': 'æ°µ', 'é˜': 'é˜', 'ç¤»': 'ç¤»', 'è¡¤': 'è¡¤', 'è¾¶': 'è¾¶', 'è‰¹': 'è‰¹',
            'æœ©': 'æœ©', 'å†«': 'å†«', 'çˆ«': 'çˆ«', 'å½': 'å½', 'ç½’': 'ç½’', 'äº»': 'äº»',
            'å‹¹': 'å‹¹', 'å°ƒ': 'å°ƒ', 'çˆ¿': 'çˆ¿', 'ä¸¶': 'ä¸¶', 'ä¸¿': 'ä¸¿'
        };
        
        // Reverse map for Traditional to Simplified
        const t2sMap = {};
        for (const key in s2tMap) {
            t2sMap[s2tMap[key]] = key;
        }
        
        // Pinyin data (most common characters)
        const pinyinData = {
            'çš„': 'de', 'ä¸€': 'yÄ«', 'æ˜¯': 'shÃ¬', 'äº†': 'le', 'ä¸': 'bÃ¹', 'åœ¨': 'zÃ i',
            'æœ‰': 'yÇ’u', 'äºº': 'rÃ©n', 'è¿™': 'zhÃ¨', 'ä¸­': 'zhÅng', 'å¤§': 'dÃ ', 'ä¸º': 'wÃ¨i',
            'ä¸Š': 'shÃ ng', 'ä¸ª': 'gÃ¨', 'ä»¬': 'men', 'æ¥': 'lÃ¡i', 'åˆ°': 'dÃ o', 'æ—¶': 'shÃ­',
            'åœ°': 'de', 'å‡º': 'chÅ«', 'è¯´': 'shuÅ', 'è¦': 'yÃ o', 'å°±': 'jiÃ¹', 'ä¼š': 'huÃ¬',
            'å¯': 'kÄ›', 'ä¹Ÿ': 'yÄ›', 'ä½ ': 'nÇ', 'å¯¹': 'duÃ¬', 'ç”Ÿ': 'shÄ“ng', 'èƒ½': 'nÃ©ng',
            'è€Œ': 'Ã©r', 'å­': 'zÇ', 'é‚£': 'nÃ ', 'å¾—': 'de', 'äº': 'yÃº', 'ç€': 'zhe',
            'ä¸‹': 'xiÃ ', 'è‡ª': 'zÃ¬', 'ä¹‹': 'zhÄ«', 'å¹´': 'niÃ¡n', 'è¿‡': 'guÃ²', 'å‘': 'fÄ',
            'å': 'hÃ²u', 'ä½œ': 'zuÃ²', 'é‡Œ': 'lÇ', 'ç”¨': 'yÃ²ng', 'é“': 'dÃ o', 'è¡Œ': 'xÃ­ng',
            'æ‰€': 'suÇ’', 'ç„¶': 'rÃ¡n', 'å®¶': 'jiÄ', 'ç§': 'zhÇ’ng', 'æˆ': 'chÃ©ng', 'äº‹': 'shÃ¬',
            'å·¥': 'gÅng', 'å¸‚': 'shÃ¬', 'æŠŠ': 'bÇ', 'è¯': 'huÃ ', 'å¿ƒ': 'xÄ«n', 'å¤´': 'tÃ³u',
            'é¢': 'miÃ n', 'æ‰‹': 'shÇ’u', 'æ„': 'yÃ¬', 'åŒ': 'tÃ³ng', 'å…³': 'guÄn', 'è€': 'lÇo',
            'è®©': 'rÃ ng', 'å»': 'qÃ¹', 'æ²¡': 'mÃ©i', 'å¥½': 'hÇo', 'æˆ‘': 'wÇ’', 'ä»–': 'tÄ',
            'å¥¹': 'tÄ', 'å®ƒ': 'tÄ', 'çˆ±': 'Ã i', 'æƒ³': 'xiÇng', 'çœ‹': 'kÃ n', 'å¬': 'tÄ«ng',
            'è¯»': 'dÃº', 'å†™': 'xiÄ›', 'åƒ': 'chÄ«', 'å–': 'hÄ“', 'ç¡': 'shuÃ¬', 'èµ°': 'zÇ’u',
            'è·‘': 'pÇo', 'è·³': 'tiÃ o', 'å': 'zuÃ²', 'ç«™': 'zhÃ n', 'èºº': 'tÇng', 'ç¬‘': 'xiÃ o',
            'å“­': 'kÅ«', 'å”±': 'chÃ ng', 'ç”»': 'huÃ ', 'ä¹°': 'mÇi', 'å–': 'mÃ i', 'ç»™': 'gÄ›i',
            'æ‹¿': 'nÃ¡', 'æ”¾': 'fÃ ng', 'å¼€': 'kÄi', 'å…³': 'guÄn', 'å·¦': 'zuÇ’', 'å³': 'yÃ²u',
            'å‰': 'qiÃ¡n', 'å': 'hÃ²u', 'é‡Œ': 'lÇ', 'å¤–': 'wÃ i', 'å¤©': 'tiÄn', 'åœ°': 'dÃ¬',
            'å±±': 'shÄn', 'æ°´': 'shuÇ', 'ç«': 'huÇ’', 'é£': 'fÄ“ng', 'é›¨': 'yÇ”', 'é›ª': 'xuÄ›',
            'äº‘': 'yÃºn', 'æœˆ': 'yuÃ¨', 'æ—¥': 'rÃ¬', 'æ˜Ÿ': 'xÄ«ng', 'æœ¨': 'mÃ¹', 'æ—': 'lÃ­n',
            'è‰': 'cÇo', 'èŠ±': 'huÄ', 'é¸Ÿ': 'niÇo', 'é±¼': 'yÃº', 'é©¬': 'mÇ', 'ç‰›': 'niÃº',
            'ç¾Š': 'yÃ¡ng', 'çŒª': 'zhÅ«', 'ç‹—': 'gÇ’u', 'çŒ«': 'mÄo', 'å…”': 'tÃ¹', 'é¾™': 'lÃ³ng',
            'è›‡': 'shÃ©', 'è™«': 'chÃ³ng', 'èœœ': 'mÃ¬', 'èœ‚': 'fÄ“ng'
        };
        
        // Mode selection
        modeButtons.forEach(btn => {
            btn.addEventListener('click', function() {
                modeButtons.forEach(b => b.classList.remove('active'));
                this.classList.add('active');
                selectedMode = this.getAttribute('data-mode');
                
                // Show/hide elements based on mode
                if (selectedMode === 'pinyin') {
                    outputText.style.display = 'none';
                    pinyinOutput.style.display = 'block';
                } else {
                    outputText.style.display = 'block';
                    pinyinOutput.style.display = 'none';
                }
            });
        });
        
        // Convert Simplified to Traditional
        function s2t(text) {
            return text.split('').map(char => s2tMap[char] || char).join('');
        }
        
        // Convert Traditional to Simplified
        function t2s(text) {
            return text.split('').map(char => t2sMap[char] || char).join('');
        }
        
        // Generate Pinyin
        function toPinyin(text) {
            const words = text.split(/([\u4e00-\u9fa5])/g).filter(Boolean);
            let html = '';
            
            words.forEach(word => {
                if (/[\u4e00-\u9fa5]/.test(word)) {
                    const py = pinyinData[word] || getPinyinFirstChar(word);
                    html += `<span class="pinyin-word"><span class="hanzi">${word}</span><span class="py">${py}</span></span>`;
                } else if (word.trim()) {
                    html += `<span class="pinyin-word" style="background: transparent; box-shadow: none;"><span class="hanzi" style="color: #6c757d;">${word}</span></span>`;
                }
            });
            
            return html;
        }
        
        // Get first character pinyin (fallback)
        function getPinyinFirstChar(char) {
            const pinyinFirst = {
                'å•Š': 'a', 'é˜¿': 'a', 'åŸƒ': 'ai', 'æŒ¨': 'ai', 'å“': 'ai', 'å”‰': 'ai',
                'å“€': 'ai', 'çš‘': 'ai', 'ç™Œ': 'ai', 'è”¼': 'ai', 'çŸ®': 'ai', 'çˆ±': 'ai',
                'å®‰': 'an', 'é': 'an', 'å²¸': 'an', 'æŒ‰': 'an', 'æš—': 'an', 'èƒº': 'an',
                'æ¡ˆ': 'an', 'æ˜‚': 'ang', 'è¢„': 'ao', 'å‚²': 'ao', 'å¥¥': 'ao', 'æ‡Š': 'ao',
                'æ¾³': 'ao', 'èŠ­': 'ba', 'å…«': 'ba', 'å·´': 'ba', 'æ‰’': 'ba', 'å­': 'ba',
                'å§': 'ba', 'å': 'ba', 'æ‹”': 'ba', 'è·‹': 'ba', 'é¶': 'ba', 'æŠŠ': 'ba',
                'çˆ¸': 'ba', 'ç™½': 'bai', 'ç™¾': 'bai', 'æ‘†': 'bai', 'ä½°': 'bai', 'è´¥': 'bai',
                'æ‹œ': 'bai', 'ç­': 'ban', 'æ¬': 'ban', 'æ–‘': 'ban', 'èˆ¬': 'ban', 'é¢': 'ban',
                'æ¿': 'ban', 'ç‰ˆ': 'ban', 'æ‰®': 'ban', 'æ‹Œ': 'ban', 'ä¼´': 'ban', 'ç“£': 'ban',
                'åŠ': 'ban', 'ç»Š': 'ban', 'é‚¦': 'bang', 'å¸®': 'bang', 'æ¢†': 'bang',
                'æ¦œ': 'bang', 'è†€': 'bang', 'ç»‘': 'bang', 'æ£’': 'bang', 'ç£…': 'bang',
                'èšŒ': 'bang', '', 'åŒ…': 'bao', 'å‚': 'bangæŠ¥': 'bao', 'æŠ±': 'bao', 'è±¹': 'bao',
                'é²': 'bao', 'é¥±': 'bao', 'å®': 'bao', 'ä¿': 'bao', 'å ¡': 'bao', 'æ¯': 'bei',
                'ç¢‘': 'bei', 'æ‚²': 'bei', 'å‘': 'bei', 'åŒ—': 'bei', 'è¾ˆ': 'bei', 'èƒŒ': 'bei',
                'è´': 'bei', 'é’¡': 'bei', 'å€': 'bei', 'å¤‡': 'bei', 'æƒ«': 'bei', 'ç„™': 'bei',
                'å¥”': 'ben', 'æœ¬': 'ben', 'ç¬¨': 'ben', 'å´©': 'beng', 'ç»·': 'beng', 'ç”­': 'beng',
                'æ³µ': 'beng', 'è¹¦': 'beng', 'é€¼': 'bi', 'é¼»': 'bi', 'æ¯”': 'bi', 'å½¼': 'bi',
                'ç¬”': 'bi', 'é„™': 'bi', 'å¸': 'bi', 'å¿…': 'bi', 'æ¯•': 'bi', 'é—­': 'bi',
                'ç¢§': 'bi', 'è“–': 'bi', 'å¼Š': 'bi', 'è¾Ÿ': 'bi', 'å£': 'bi', 'è‡‚': 'bi',
                'é¿': 'bi', 'è¾¹': 'bian', 'ç¼–': 'bian', 'é­': 'bian', 'è´¬': 'bian', 'æ‰': 'bian',
                'ä¾¿': 'bian', 'å˜': 'bian', 'é': 'bian', 'è¾¨': 'bian', 'è¾©': 'bian',
                'æ ‡': 'biao', 'å½ª': 'biao', 'è†˜': 'biao', 'è¡¨': 'biao', 'åˆ«': 'bie',
                'é³–': 'bie', 'æ†‹': 'bie', 'å®¾': 'bin', 'å½¬': 'bin', 'æ–Œ': 'bin', 'æ»¨': 'bin',
                'å…µ': 'bing', 'å†°': 'bing', 'å¹¶': 'bing', 'ç—…': 'bing', 'ä¸™': 'bing',
                'æŸ„': 'bing', 'ç§‰': 'bing', 'é¥¼': 'bing', 'æ‹¨': 'bo', 'æ³¢': 'bo', 'åš': 'bo',
                'å‹ƒ': 'bo', 'æ': 'bo', 'é“‚': 'bo', 'ç®”': 'bo', 'ä¼¯': 'bo', 'æ³Š': 'bo',
                'é©³': 'bo', 'æ’­': 'bo', 'æ•': 'bu', 'åœ': 'bu', 'è¡¥': 'bu', 'å“º': 'bu',
                'ä¸': 'bu', 'å¸ƒ': 'bu', 'æ­¥': 'bu', 'éƒ¨': 'bu', 'åŸ ': 'bu', 'çŒœ': 'cai',
                'å½©': 'cai', 'èœ': 'cai', 'è”¡': 'cai', 'å‚': 'can', 'èš•': 'can', 'æ®‹': 'can',
                'æƒ¨': 'can', 'ç¿': 'can', 'è‹': 'cang', 'èˆ±': 'cang', 'ä»“': 'cang', 'æ²§': 'cang',
                'æ“': 'cao', 'è‰': 'cao', 'å†Œ': 'ce', 'ä¾§': 'ce', 'å•': 'ce', 'æµ‹': 'ce',
                'å±‚': 'ceng', 'è¹­': 'ceng', 'æ›¾': 'ceng', 'å·®': 'cha', 'æ’': 'cha', 'å‰': 'cha',
                'èŒ¶': 'cha', 'æŸ¥': 'cha', 'ç¢´': 'cha', 'å¯Ÿ': 'cha', 'å²”': 'cha', 'æ‹†': 'chai',
                'æŸ´': 'chai', 'è±º': 'chai', 'ç¼ ': 'chan', 'äº§': 'chan', 'é˜': 'chan',
                'é¢¤': 'chan', 'æ˜Œ': 'chang', 'çŒ–': 'chang', 'åœº': 'chang', 'å°': 'chang',
                'å¸¸': 'chang', 'å¿': 'chang', 'è‚ ': 'chang', 'å‚': 'chang', 'æ•': 'chang',
                'å”±': 'chang', 'ç•…': 'chang', 'è¶…': 'chao', 'æŠ„': 'chao', 'é’': 'chao',
                'æ½®': 'chao', 'å·¢': 'chao', 'æœ': 'chao', 'åµ': 'chao', 'ç‚’': 'chao',
                'æ’¤': 'che', 'æ£': 'che', 'å½»': 'che', 'æ¾ˆ': 'che', 'é™ˆ': 'chen', 'æ²‰': 'chen',
                'è¶': 'chen', 'è¡¬': 'chen', 'ç§°': 'cheng', 'åŸ': 'cheng', 'æˆ': 'cheng',
                'å‘ˆ': 'cheng', 'è¯š': 'cheng', 'æ‰¿': 'cheng', 'ä¹˜': 'cheng', 'ç¨‹': 'cheng',
                'æƒ©': 'cheng', 'æ©™': 'cheng', 'åƒ': 'chi', 'æŒ': 'chi', 'æ± ': 'chi',
                'è¿Ÿ': 'chi', 'é©°': 'chi', 'é½¿': 'chi', 'æ–¥': 'chi', 'èµ¤': 'chi', 'ç¿…': 'chi',
                'å……': 'chong', 'å†²': 'chong', 'å´‡': 'chong', 'å® ': 'chong', 'æŠ½': 'chou',
                'ä»‡': 'chou', 'ç»¸': 'chou', 'ç•´': 'chou', 'ç¨ ': 'chou', 'æ„': 'chou',
                'ç­¹': 'chou', 'ä¸‘': 'chou', 'è‡­': 'chou', 'åˆ': 'chu', 'å‡º': 'chu', 'æ©±': 'chu',
                'å¨': 'chu', 'é”„': 'chu', 'é™¤': 'chu', 'æ¥š': 'chu', 'å‚¨': 'chu', 'çŸ—': 'chu',
                'å¤„': 'chu', 'å·': 'chuan', 'ç©¿': 'chuan', 'ä¼ ': 'chuan', 'èˆ¹': 'chuan',
                'å–˜': 'chuan', 'ä¸²': 'chuan', 'åºŠ': 'chuang', 'åˆ›': 'chuang', 'é—¯': 'chuang',
                'çª—': 'chuang', 'å¹': 'chui', 'å‚': 'chui', 'æ¶': 'chui', 'é”¤': 'chui',
                'æ˜¥': 'chun', 'æ¤¿': 'chun', 'çº¯': 'chun', 'å”‡': 'chun', 'é†‡': 'chun',
                'æˆ³': 'chuo', 'ç»°': 'chuo', 'è¯': 'ci', 'æ­¤': 'ci', 'åˆº': 'ci', 'æ¬¡': 'ci',
                'ä»': 'cong', 'ä¸›': 'cong', 'è‘±': 'cong', 'èª': 'cong', 'å›±': 'cong',
                'å‡‘': 'cou', 'ç²—': 'cu', 'ç°‡': 'cu', 'ä¿ƒ': 'cu', 'é†‹': 'cu', 'ç¯¡': 'cuan',
                'çªœ': 'cuan', 'æ‘§': 'cui', 'å´”': 'cui', 'å‚¬': 'cui', 'è„†': 'cui', 'ç²¹': 'cui',
                'æ‘': 'cun', 'å­˜': 'cun', 'å¯¸': 'cun', 'ç£‹': 'cuo', 'æ’®': 'cuo', 'æŒ«': 'cuo',
                'é”™': 'cuo', 'è¾¾': 'da', 'ç­”': 'da', 'æ­': 'da', 'å¤§': 'da', 'å‘†': 'dai',
                'æ­¹': 'dai', 'å‚£': 'dai', 'æˆ´': 'dai', 'å¸¦': 'dai', 'ä»£': 'dai', 'è´·': 'dai',
                'è¢‹': 'dai', 'å¾…': 'dai', 'æ€ ': 'dai', 'è€½': 'dan', 'æ‹…': 'dan', 'ä¸¹': 'dan',
                'å•': 'dan', 'èƒ†': 'dan', 'æ¸': 'dan', 'æ—¦': 'dan', 'æ°®': 'dan', 'ä½†': 'dan',
                'å¼¹': 'dan', 'æ·¡': 'dan', 'è¯': 'dan', 'è›‹': 'dan', 'å½“': 'dang', 'æŒ¡': 'dang',
                'å…š': 'dang', 'è¡': 'dang', 'æ¡£': 'dang', 'åˆ€': 'dao', 'æ£': 'dao', 'è¹ˆ': 'dao',
                'å€’': 'dao', 'å²›': 'dao', 'ç¨»': 'dao', 'åˆ°': 'dao', 'é“': 'dao', 'å¾—': 'de',
                'çš„': 'de', 'åœ°': 'de', 'å¾·': 'de', 'ç¯': 'deng', 'ç™»': 'deng', 'ç­‰': 'deng',
                'é‚“': 'deng', 'æ¾„': 'deng', 'è¹¬': 'deng', 'æ»´': 'di', 'è¿ª': 'di', 'æ•Œ': 'di',
                'ç¬›': 'di', 'ç‹„': 'di', 'æ¶¤': 'di', 'ç¿Ÿ': 'di', 'å«¡': 'di', 'åº•': 'di',
                'åœ°': 'di', 'æŠµ': 'di', 'å¼Ÿ': 'di', 'å¸': 'di', 'é€’': 'di', 'ç¬¬': 'di',
                'ç¼”': 'di', 'ç‚¹': 'dian', 'å…¸': 'dian', 'ç¢˜': 'dian', 'ç”µ': 'dian',
                'åº—': 'dian', 'å«': 'dian', 'æƒ¦': 'dian', 'å¥ ': 'dian', 'æ·€': 'dian',
                'æ®¿': 'diao', 'é›•': 'diao', 'åŠ': 'diao', 'æ‰': 'diao', 'è°ƒ': 'diao',
                'åˆ': 'diao', 'é’“': 'diao', 'è·Œ': 'die', 'çˆ¹': 'die', 'ç¢Ÿ': 'die', 'è¶': 'die',
                'è¿­': 'die', 'è°': 'die', 'ä¸': 'ding', 'ç›¯': 'ding', 'å®': 'ding',
                'é¡¶': 'ding', 'é¼': 'ding', 'å®š': 'ding', 'è®¢': 'ding', 'ä¸¢': 'diu',
                'ä¸œ': 'dong', 'å†¬': 'dong', 'è‘£': 'dong', 'æ‡‚': 'dong', 'åŠ¨': 'dong',
                'æ ‹': 'dong', 'å†»': 'dong', 'æ´': 'dong', 'éƒ½': 'dou', 'å…œ': 'dou',
                'æ–—': 'dou', 'æŠ–': 'dou', 'é™¡': 'dou', 'è±†': 'dou', 'é€—': 'dou', 'ç—˜': 'dou',
                'ç£': 'du', 'æ¯’': 'du', 'ç‹¬': 'du', 'è¯»': 'du', 'å µ': 'du', 'èµŒ': 'du',
                'æœ': 'du', 'é•€': 'du', 'åº¦': 'du', 'æ¸¡': 'du', 'ç«¯': 'duan', 'çŸ­': 'duan',
                'æ®µ': 'duan', 'æ–­': 'duan', 'é”»': 'duan', 'ç¼': 'duan', 'å †': 'dui',
                'é˜Ÿ': 'dui', 'å¯¹': 'dui', 'å…‘': 'dui', 'å¨': 'dun', 'è¹²': 'dun', 'æ•¦': 'dun',
                'é’': 'dun', 'ç›¾': 'dun', 'é¡¿': 'dun', 'å¤š': 'duo', 'å¤º': 'duo', 'æœµ': 'duo',
                'è·º': 'duo', 'æƒ°': 'duo', 'èˆµ': 'duo', 'å›': 'duo', 'èº²': 'duo', 'ä¿„': 'e',
                'é¹…': 'e', 'é¢': 'e', 'æ‰¼': 'e', 'é': 'e', 'é¥¿': 'e', 'æ©': 'en',
                'è€Œ': 'er', 'å„¿': 'er', 'è€³': 'er', 'å°”': 'er', 'é¥µ': 'er', 'äºŒ': 'er',
                'è´°': 'er', 'å‘': 'fa', 'ç½š': 'fa', 'é˜€': 'fa', 'æ³•': 'fa', 'å¸†': 'fan',
                'ç•ª': 'fan', 'ç¿»': 'fan', 'æ¨Š': 'fan', 'çŸ¾': 'fan', 'é’¥': 'fan', 'ç¹': 'fan',
                'å‡¡': 'fan', 'çƒ¦': 'fan', 'å': 'fan', 'è¿”': 'fan', 'èŒƒ': 'fan', 'è´©': 'fan',
                'çŠ¯': 'fan', 'é¥­': 'fan', 'æ³›': 'fan', 'åŠ': 'fang', 'èŠ³': 'fang', 'æ–¹': 'é˜²': 'fangfang',
                '', 'æˆ¿': 'fang', 'ä»¿': 'fang', 'è®¿': 'fang', 'çºº': 'fang',
                'æ”¾': 'fang', 'è²': 'fei', 'é': 'fei', 'å•¡': 'fei', 'é£': 'fei', 'è‚¥': 'fei',
                'åŒª': 'fei', 'è¯½': 'fei', 'å ': 'fei', 'è‚º': 'fei', 'åºŸ': 'fei', 'æ²¸': 'fei',
                'è´¹': 'fei', 'åˆ†': 'fen', 'é…š': 'fen', 'å©': 'fen', 'æ°›': 'fen', 'çº·': 'fen',
                'åŸ': 'fen', 'ç„š': 'fen', 'æ±¾': 'fen', 'ç²‰': 'fen', 'ä»½': 'fen', 'å¥‹': 'fen',
                'æ„¤': 'fen', 'ç²ª': 'fen', 'ä¸°': 'feng', 'å°': 'feng', 'å³°': 'feng',
                'é”‹': 'feng', 'é£': 'feng', 'ç–¯': 'feng', 'çƒ½': 'feng', 'é€¢': 'feng',
                'å†¯': 'feng', 'è®½': 'feng', 'å‡¤': 'feng', 'å¥‰': 'feng', 'ä½›': 'fo',
                'å¦': 'fou', 'å¤«': 'fu', 'æ•·': 'fu', 'è‚¤': 'fu', 'å­µ': 'fu', 'æ‰¶': 'fu',
                'æ‹‚': 'fu', 'è¾': 'fu', 'å¹…': 'fu', 'æ°Ÿ': 'fu', 'ç¬¦': 'fu', 'ä¼': 'fu',
                'ä¿˜': 'fu', 'æµ®': 'fu', 'æ¶ª': 'fu', 'ç¦': 'fu', 'è¢„': 'fu', 'æŠš': 'fu',
                'ä¿¯': 'fu', 'é‡œ': 'fu', 'æ–§': 'fu', 'è„¯': 'fu', 'è…‘': 'fu', 'è…': 'fu',
                'èµ´': 'fu', 'å‰¯': 'fu', 'è¦†': 'fu', 'å¤': 'fu', 'å‚…': 'fu', 'ä»˜': 'fu',
                'é˜œ': 'fu', 'çˆ¶': 'fu', 'è…¹': 'fu', 'è´Ÿ': 'fu', 'å¯Œ': 'fu', 'è®¡': 'ji',
                'çºª': 'ji', 'è®°': 'ji', 'é™…': 'ji', 'ç»§': 'ji', 'åŸº': 'ji', 'å‡»': 'ji',
                'æœº': 'ji', 'ç•¸': 'ji', 'ç§¯': 'ji', 'æ¿€': 'ji', 'åŠ': 'ji', 'çº§': 'ji',
                'å³': 'ji', 'æ': 'ji', 'æ€¥': 'ji', 'ç–¾': 'ji', 'é›†': 'ji', 'å‰': 'ji',
                'æ£˜': 'ji', 'è¾‘': 'ji', 'ç±': 'ji', 'å‡ ': 'ji', 'å·±': 'ji', 'æŒ¤': 'ji',
                'è„Š': 'ji', 'è®¡': 'ji', 'çºª': 'ji', 'è®°': 'ji', 'é™…': 'ji', 'ç»§': 'ji',
                'åŸº': 'ji', 'å‡»': 'ji', 'æœº': 'ji', 'ç•¸': 'ji', 'ç§¯': 'ji', 'æ¿€': 'ji',
                'åŠ': 'ji', 'çº§': 'ji', 'å³': 'ji', 'æ': 'ji', 'æ€¥': 'ji', 'ç–¾': 'ji',
                'é›†': 'ji', 'å‰': 'ji', 'æ£˜': 'ji', 'è¾‘': 'ji', 'ç±': 'ji', 'å‡ ': 'ji',
                'å·±': 'ji', 'æŒ¤': 'ji', 'è„Š': 'ji'
            };
            return pinyinFirst[char] || '?';
        }
        
        // Number to Chinese Uppercase (RMB format)
        function toChineseUppercase(num) {
            if (isNaN(num)) return 'æ— æ•ˆæ•°å­—';
            
            const bigDigits = ['é›¶', 'å£¹', 'è´°', 'å', 'è‚†', 'ä¼', 'é™†', 'æŸ’', 'æŒ', 'ç–'];
            const units = ['', 'æ‹¾', 'ä½°', 'ä»Ÿ'];
            const bigUnits = ['', 'ä¸‡', 'äº¿'];
            
            num = parseFloat(num);
            
            // Handle negative numbers
            const isNegative = num < 0;
            num = Math.abs(num);
            
            // Split into integer and decimal parts
            const parts = num.toString().split('.');
            let integerPart = parts[0];
            let decimalPart = parts[1] || '';
            
            let result = '';
            
            if (parseInt(integerPart) === 0) {
                result = 'é›¶';
            } else {
                result = '';
                let len = integerPart.length;
                
                for (let i = 0; i < len; i++) {
                    const digit = parseInt(integerPart[i]);
                    const position = len - i - 1;
                    const unit = units[position % 4];
                    const bigUnit = bigUnits[Math.floor(position / 4)];
                    
                    if (digit === 0) {
                        if (result.length > 0 && result[result.length - 1] !== 'é›¶') {
                            result += 'é›¶';
                        }
                    } else {
                        result += bigDigits[digit] + unit;
                    }
                }
                
                // Clean up consecutive zeros
                result = result.replace(/é›¶+/g, 'é›¶').replace(/é›¶+$/, '');
            }
            
            // Handle decimal part (è§’/åˆ†)
            if (decimalPart.length > 0) {
                const jiao = parseInt(decimalPart[0]) || 0;
                const fen = parseInt(decimalPart[1]) || 0;
                
                if (jiao > 0 || fen > 0) {
                    if (jiao > 0) {
                        result += bigDigits[jiao] + 'è§’';
                    } else {
                        result += 'é›¶';
                    }
                    if (fen > 0) {
                        result += bigDigits[fen] + 'åˆ†';
                    }
                }
            } else {
                result += 'æ•´';
            }
            
            if (isNegative) {
                result = 'è´Ÿ' + result;
            }
            
            return result + 'å…ƒ';
        }
        
        // Chinese Uppercase to Number
        function toNumber(chinese) {
            const bigDigits = { 'é›¶': 0, 'å£¹': 1, 'è´°': 2, 'å': 3, 'è‚†': 4, 'ä¼': 5, 'é™†': 6, 'æŸ’': 7, 'æŒ': 8, 'ç–': 9 };
            const units = { 'æ‹¾': 10, 'ä½°': 100, 'ä»Ÿ': 1000 };
            const bigUnits = { 'ä¸‡': 10000, 'äº¿': 100000000, 'å…†': 1000000000000 };
            
            let num = 0;
            let current = 0;
            
            chinese = chinese.replace(/ç‚¹/g, '.');
            
            for (let i = 0; i < chinese.length; i++) {
                const char = chinese[i];
                
                if (bigDigits[char] !== undefined) {
                    current = current * 10 + bigDigits[char];
                } else if (units[char]) {
                    current = current * units[char];
                    num += current;
                    current = 0;
                } else if (bigUnits[char]) {
                    current = current * bigUnits[char];
                    num += current;
                    current = 0;
                } else if (char === '.' || char === 'å…ƒ') {
                    num += current;
                    current = 0;
                }
            }
            
            num += current;
            return num;
        }
        
        // Convert function
        function convert() {
            const text = inputText.value.trim();
            if (!text) {
                alert('è¯·è¾“å…¥è¦è½¬æ¢çš„æ–‡æœ¬');
                return;
            }
            
            const resetButton = ToolsHub.showLoading(convertBtn);
            
            let result;
            switch (selectedMode) {
                case 's2t':
                    result = s2t(text);
                    outputText.value = result;
                    break;
                case 't2s':
                    result = t2s(text);
                    outputText.value = result;
                    break;
                case 'pinyin':
                    pinyinOutput.innerHTML = toPinyin(text);
                    break;
                case 'uppercase':
                    const num = parseFloat(text);
                    if (isNaN(num)) {
                        alert('è¯·è¾“å…¥æœ‰æ•ˆçš„æ•°å­—');
                        return;
                    }
                    result = toChineseUppercase(num);
                    outputText.value = result;
                    break;
                case 'digit':
                    try {
                        result = toNumber(text);
                        outputText.value = String(result);
                    } catch (e) {
                        alert('æ— æ•ˆçš„ä¸­æ–‡å¤§å†™æ•°å­—');
                        return;
                    }
                    break;
            }
            
            resetButton();
        }
        
        // Event listeners
        convertBtn.addEventListener('click', convert);
        
        swapBtn.addEventListener('click', function() {
            const temp = inputText.value;
            inputText.value = outputText.value;
            outputText.value = temp;
        });
        
        clearBtn.addEventListener('click', function() {
            inputText.value = '';
            outputText.value = '';
            pinyinOutput.innerHTML = '';
        });
        
        copyBtn.addEventListener('click', function() {
            const text = selectedMode === 'pinyin' ? pinyinOutput.textContent : outputText.value;
            if (text) {
                ToolsHub.copyToClipboard(text);
                ToolsHub.showToast('å·²å¤åˆ¶åˆ°å‰ªè´´æ¿!');
            }
        });
    </script>
    <script src="../js/main.js"></script>
</body>
</html>
