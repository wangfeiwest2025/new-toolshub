<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¸­æ–‡è½¬æ¢å·¥å…· - New ToolsHub</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸ› ï¸</text></svg>">
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/fontawesome-all.min.css">
    <link rel="stylesheet" href="../css/bootstrap.min.css">
    <style>
        .mode-btn { padding: 10px 20px; border: 2px solid #e9ecef; border-radius: 8px; cursor: pointer; background: white; transition: all 0.3s; }
        .mode-btn:hover { border-color: #e83e8c; }
        .mode-btn.active { background: linear-gradient(135deg, #e83e8c, #d63384); color: white; border-color: #e83e8c; }
        .pinyin-output { font-size: 18px; line-height: 2; padding: 15px; background: #f8f9fa; border-radius: 8px; max-height: 300px; overflow-y: auto; }
        .pinyin-word { display: inline-block; margin: 5px; padding: 8px 12px; background: white; border-radius: 6px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        .pinyin-word .hanzi { font-size: 24px; margin-right: 8px; color: #333; }
        .pinyin-word .py { color: #e83e8c; font-weight: bold; }
    </style>
</head>
<body>
    <nav class="navbar navbar-expand-lg" style="background: linear-gradient(135deg, #e83e8c, #d63384); padding: 1rem 0;">
        <div class="container">
            <a class="navbar-brand" href="/" style="color: white; font-weight: 700;">
                <i class="fas fa-tools"></i> New ToolsHub
            </a>
        </div>
    </nav>

    <div class="container mt-4">
        <div class="tool-container">
            <div class="tool-header">
                <h1 class="tool-title"><i class="fas fa-font"></i> ä¸­æ–‡è½¬æ¢å·¥å…·</h1>
            </div>
            
            <div class="tool-content">
                <div class="conversion-mode mb-3">
                    <button class="mode-btn active" data-mode="s2t" onclick="setMode('s2t')">ç®€ä½“â†’ç¹ä½“</button>
                    <button class="mode-btn" data-mode="t2s" onclick="setMode('t2s')">ç¹ä½“â†’ç®€ä½“</button>
                    <button class="mode-btn" data-mode="uppercase" onclick="setMode('uppercase')">æ•°å­—â†’å¤§å†™</button>
                    <button class="mode-btn" data-mode="digit" onclick="setMode('digit')">å¤§å†™â†’æ•°å­—</button>
                </div>
                
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group">
                            <label class="form-label">è¾“å…¥:</label>
                            <textarea id="inputText" class="form-control" rows="8" placeholder="è¾“å…¥ä¸­æ–‡æˆ–æ•°å­—..."></textarea>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            <label class="form-label">è¾“å‡º:</label>
                            <textarea id="outputText" class="form-control" rows="8" readonly placeholder="è½¬æ¢ç»“æœ..."></textarea>
                        </div>
                    </div>
                </div>
                
                <div id="pinyinOutput" class="pinyin-output mt-3" style="display:none;"></div>
                
                <div class="mt-3">
                    <button class="btn btn-primary" style="background: linear-gradient(135deg, #e83e8c, #d63384); border: none;" onclick="convert()">
                        <i class="fas fa-sync-alt"></i> è½¬æ¢
                    </button>
                    <button class="btn btn-outline-secondary" onclick="clearAll()">
                        <i class="fas fa-trash-alt"></i> æ¸…ç©º
                    </button>
                    <button class="btn btn-outline-info" onclick="copyResult()">
                        <i class="fas fa-copy"></i> å¤åˆ¶
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Simplified to Traditional mapping (comprehensive)
        const s2tMap = {
            'ä¸º': 'ç‚º', 'å‘': 'ç™¼', 'å›½': 'åœ‹', 'äº§': 'ç”¢', 'ä¼š': 'æœƒ', 'æ—¶': 'æ™‚',
            'ä¸ª': 'å€‹', 'å¯¹': 'å°', 'è¯´': 'èªª', 'è¿˜': 'é‚„', 'è¿‡': 'é', 'ä¹¦': 'æ›¸',
            'ä¸œ': 'æ±', 'ä¸': 'çµ²', 'ä¸¤': 'å…©', 'ä¸½': 'éº—', 'ä¹‰': 'ç¾©', 'é•¿': 'é•·',
            'è§': 'è¦‹', 'è´': 'è²', 'è½¦': 'è»Š', 'æ— ': 'ç„¡', 'é©¬': 'é¦¬', 'é±¼': 'é­š',
            'é¸Ÿ': 'é³¥', 'é—¨': 'é–€', 'é£': 'é¢¨', 'é£': 'é£›', 'ä¸‡': 'è¬', 'å¼€': 'é–‹',
            'å…³': 'é—œ', 'å': 'å¾Œ', 'å‘': 'ç™¼', 'é‡Œ': 'è£¡', 'é’Ÿ': 'é˜', 'å°': 'è‡º',
            'æ‰': 'æ‰', 'æ–—': 'æ–—', 'å¶': 'è‘‰', 'å›': 'å›', 'é¢': 'é¢', 'å‡ ': 'å‡ ',
            'å¹¿': 'å»£', 'å…': 'å»³', 'å†': 'æ­·', 'å¿': 'ç¸£', 'ç¯': 'ç‡ˆ', 'å¤„': 'è™•',
            'æ€»': 'ç¸½', 'æˆ˜': 'æˆ°', 'ç‚¹': 'é»', 'åŠ¨': 'å‹•', 'å¸¦': 'å¸¶', 'ä¸š': 'æ¥­',
            'ä¸œ': 'æ±', 'ä¸': 'çµ²', 'ä¸¢': 'ä¸Ÿ', 'ä¸¤': 'å…©', 'ä¸¥': 'åš´', 'ä¸§': 'å–ª',
            'ä¸°': 'è±', 'ä¸´': 'è‡¨', 'ä¸¾': 'èˆ‰', 'ä¹‰': 'ç¾©', 'ä¹Œ': 'çƒ', 'ä¹': 'æ¨‚',
            'ä¹”': 'å–¬', 'ä¹ ': 'ç¿’', 'ä¹¡': 'é„‰', 'ä¹°': 'è²·', 'ä¹±': 'äº‚', 'äº‰': 'çˆ­',
            'äº': 'æ–¼', 'äº‘': 'é›²', 'äºš': 'äº', 'äº›': 'äº›', 'äº¡': 'äº¡', 'äº¤': 'äº¤',
            'äº¥': 'äº¥', 'äº¦': 'äº¦', 'äº§': 'ç”¢', 'äº¨': 'äº¨', 'äº©': 'ç•', 'äº«': 'äº«',
            'äº¬': 'äº¬', 'äº­': 'äº­', 'äº®': 'äº®', 'äº²': 'è¦ª', 'äº¿': 'å„„', 'ä»€': 'ä»€',
            'ä»': 'ä»', 'ä»…': 'åƒ…', 'ä»†': 'åƒ•', 'ä»‡': 'è®', 'ä»Š': 'ä»Š', 'ä»‹': 'ä»‹',
            'ä»': 'ä»', 'ä»': 'å¾', 'ä»‘': 'ä¾–', 'ä»“': 'å€‰', 'ä»£': 'ä»£', 'ä»¤': 'ä»¤',
            'ä»¥': 'ä»¥', 'ä»¬': 'å€‘', 'ä»°': 'ä»°', 'ä»²': 'ä»²', 'ä»¶': 'ä»¶', 'ä»·': 'åƒ¹',
            'ä»»': 'ä»»', 'ä»½': 'ä»½', 'ä»¿': 'ä»¿', 'ä¼™': 'ä¼™', 'ä¼': 'å‚˜', 'ä¼Ÿ': 'å‰',
            'ä¼ ': 'å‚³', 'ä¼¤': 'å‚·', 'ä¼¦': 'å€«', 'ä¼ª': 'å½', 'ä½“': 'é«”', 'ä½•': 'ä½•',
            'ä½™': 'é¤˜', 'ä½›': 'ä½›', 'ä½œ': 'ä½œ', 'ä½ ': 'ä½ ', 'ä½©': 'ä½©', 'ä½¬': 'ä½¬',
            'ä½³': 'ä½³', 'ä¾': 'ä¾', 'ä¾›': 'ä¾›', 'ä¾': 'ä¾', 'ä¾ ': 'ä¿ ', 'ä¿': 'ä¿',
            'ä¿': 'ä¿', 'ä¿Š': 'ä¿Š', 'ä¿—': 'ä¿—', 'ä¿¡': 'ä¿¡', 'ä¿©': 'å€†', 'ä¿­': 'å„‰',
            'ä¿®': 'ä¿®', 'ä¿¯': 'ä¿¯', 'ä¿±': 'ä¿±', 'ä¿³': 'ä¿³', 'ä¿¸': 'ä¿¸', 'ä¿º': 'ä¿º',
            'å€º': 'å‚µ', 'å€Ÿ': 'å€Ÿ', 'å€¡': 'å€¡', 'å€¦': 'å€¦', 'å€©': 'å€©', 'å€ª': 'å€ª',
            'å€«': 'å€«', 'å€’': 'å€’', 'å€”': 'å€”', 'å€˜': 'å€˜', 'å€™': 'å€™', 'å€š': 'å€š',
            'åš': 'åš', 'åœ': 'åœ', 'å¥': 'å¥', 'å¶': 'å¶', 'å·': 'å·', 'å': 'å',
            'å‡': 'å‡', 'å“': 'å“', 'å²': 'å²', 'å‚…': 'å‚…', 'å‚': 'å‚', 'å‚‘': 'å‚‘',
            'å‚£': 'å‚£', 'å‚¥': 'å„»', 'å‚¨': 'å„²', 'å‚¬': 'å‚¬', 'å‚©': 'å„º', 'å‚²': 'å‚²',
            'å‚­': 'å‚­', 'åƒ§': 'åƒ§', 'åƒµ': 'åƒµ', 'åƒ»': 'åƒ»', 'å„’': 'å„’', 'å„¡': 'å„¡',
            'å„ª': 'å„ª', 'å„¿': 'å…’', 'å…': 'å…', 'å…ƒ': 'å…ƒ', 'å…„': 'å…„', 'å……': 'å……',
            'å…†': 'å…†', 'å…ˆ': 'å…ˆ', 'å…‰': 'å…‰', 'å…‹': 'å…‹', 'å…': 'å…', 'å…”': 'å…”',
            'å…š': 'é»¨', 'å…œ': 'å…œ', 'å…¢': 'å…¢', 'å…¨': 'å…¨', 'å…«': 'å…«', 'å…¬': 'å…¬',
            'å…­': 'å…­', 'å…°': 'è˜­', 'å…±': 'å…±', 'å…³': 'é—œ', 'å…´': 'èˆˆ', 'å…µ': 'å…µ',
            'å…¶': 'å…¶', 'å…·': 'å…·', 'å…¸': 'å…¸', 'å…¹': 'èŒ²', 'å…»': 'é¤Š', 'å…¼': 'å…¼',
            'å…½': 'ç¸', 'å†€': 'å†€', 'å†‰': 'å†‰', 'å†Œ': 'å†Š', 'å†': 'å†', 'å†•': 'å†•',
            'å†¬': 'å†¬', 'å†°': 'å†°', 'å†²': 'æ²–', 'å†³': 'æ±º', 'å†µ': 'æ³', 'å†¶': 'å†¶',
            'å†·': 'å†·', 'å‡': 'å‡', 'å‡ ': 'å‡ ', 'å‡¡': 'å‡¡', 'å‡¤': 'é³³', 'å‡¶': 'å‡¶',
            'å‡±': 'å‡±', 'åˆ': 'åˆ', 'åˆƒ': 'åˆƒ', 'åˆ†': 'åˆ†', 'åˆ‡': 'åˆ‡', 'åˆŠ': 'åˆŠ',
            'åˆ‘': 'åˆ‘', 'åˆ’': 'åŠƒ', 'åˆ—': 'åˆ—', 'åˆ˜': 'åŠ‰', 'åˆ™': 'å‰‡', 'åˆš': 'å‰›',
            'åˆ›': 'å‰µ', 'å‰‚': 'åŠ‘', 'å‰ƒ': 'å‰ƒ', 'å‰Š': 'å‰Š', 'å‰': 'å‰', 'å‰‘': 'åŠ',
            'å‰¥': 'å‰', 'å‰©': 'å‰©', 'å‹ƒ': 'å‹ƒ', 'å‹‡': 'å‹‡', 'å‹‰': 'å‹‰', 'å‹‹': 'å‹›',
            'å‹º': 'å‹º', 'å‹¾': 'å‹¾', 'å‹¿': 'å‹¿', 'åŒ€': 'åŒ€', 'åŒ…': 'åŒ…', 'åŒ†': 'åŒ†',
            'åŒˆ': 'åŒˆ', 'åŒ–': 'åŒ–', 'åŒ—': 'åŒ—', 'åŒ™': 'åŒ™', 'åŒ': 'åŒ', 'åŒª': 'åŒª',
            'åŒ ': 'åŒ ', 'åŒ¡': 'åŒ¡', 'åŒ£': 'åŒ£', 'åŒ®': 'åŒ±', 'åŒ¾': 'åŒ¾', 'åŒ¿': 'åŒ¿',
            'åŒº': 'å€', 'å': 'å', 'å‰': 'å‰', 'å‘': 'å‘', 'å’': 'å’', 'å•': 'å–®',
            'å–': 'è³£', 'å—': 'å—', 'åœ': 'åœ', 'å¡': 'å¡', 'å¢': 'ç›§', 'å‚': 'å» ',
            'åˆ': 'åˆ', 'å‰': 'å‰', 'åŠ': 'åŠ', 'å‹': 'å‹', 'åŒ': 'é›™', 'å': 'å',
            'å‘': 'ç™¼', 'å”': 'å”', 'å–': 'å–', 'å—': 'å—', 'å˜': 'è®Š', 'å™': 'æ•˜',
            'å ': 'ç–Š', 'å£': 'å£', 'åœŸ': 'åœŸ', 'å£«': 'å£«', 'å¤‚': 'å¤‚', 'å¤•': 'å¤•',
            'å¤§': 'å¤§', 'å¥³': 'å¥³', 'å­': 'å­', 'å®€': 'å®€', 'å¯¸': 'å¯¸', 'å°': 'å°',
            'å°¸': 'å°¸', 'å±±': 'å±±', 'å·¥': 'å·¥', 'å·±': 'å·±', 'å·¾': 'å·¾', 'å¹²': 'å¹²',
            'å¹¿': 'å»£', 'å»´': 'å»´', 'å»¾': 'å»¾', 'å¼‹': 'å¼‹', 'å¼“': 'å¼“', 'å½': 'å½',
            'å½‘': 'å½‘', 'å½¡': 'å½¡', 'å½³': 'å½³', 'å¿ƒ': 'å¿ƒ', 'æˆˆ': 'æˆˆ', 'æˆ·': 'æˆ¶',
            'æ‰‹': 'æ‰‹', 'æ”¯': 'æ”¯', 'æ”´': 'æ”´', 'æ–‡': 'æ–‡', 'æ–—': 'æ–—', 'æ–¤': 'æ–¤',
            'æ–¹': 'æ–¹', 'æ— ': 'ç„¡', 'æ—¥': 'æ—¥', 'æ›°': 'æ›°', 'æœˆ': 'æœˆ', 'æœ¨': 'æœ¨',
            'æ¬ ': 'æ¬ ', 'æ­¢': 'æ­¢', 'æ­¹': 'æ­¹', 'æ®³': 'æ®³', 'æ¯”': 'æ¯”', 'æ¯›': 'æ¯›',
            'æ°': 'æ°', 'æ°”': 'æ°£', 'æ°´': 'æ°´', 'ç«': 'ç«', 'çˆª': 'çˆª', 'çˆ¶': 'çˆ¶',
            'çˆ»': 'çˆ»', 'ç‰‡': 'ç‰‡', 'ç‰™': 'ç‰™', 'ç‰›': 'ç‰›', 'çŠ¬': 'çŠ¬', 'ç‰': 'ç‰',
            'ç“œ': 'ç“œ', 'ç“¦': 'ç“¦', 'ç”˜': 'ç”˜', 'ç”Ÿ': 'ç”Ÿ', 'ç”¨': 'ç”¨', 'ç”°': 'ç”°',
            'ç–‹': 'ç–‹', 'ç–’': 'ç–’', 'ç™½': 'ç™½', 'çš®': 'çš®', 'çš¿': 'çš¿', 'ç›®': 'ç›®',
            'çŸ›': 'çŸ›', 'çŸ¢': 'çŸ¢', 'çŸ³': 'çŸ³', 'ç¤º': 'ç¤º', 'ç¦¸': 'ç¦¸', 'ç¦¾': 'ç¦¾',
            'ç©´': 'ç©´', 'ç«‹': 'ç«‹', 'ç«¹': 'ç«¹', 'ç±³': 'ç±³', 'çºŸ': 'ç³¹', 'ç¾Š': 'ç¾Š',
            'ç¾½': 'ç¾½', 'è€': 'è€', 'è€Œ': 'è€Œ', 'è€’': 'è€’', 'è€³': 'è€³', 'è‚‰': 'è‚‰',
            'è‡£': 'è‡£', 'è‡ª': 'è‡ª', 'è‡³': 'è‡³', 'è‡¼': 'è‡¼', 'èˆŒ': 'èˆŒ', 'èˆŸ': 'èˆŸ',
            'è‰®': 'è‰®', 'è‰²': 'è‰²', 'è‰¸': 'è‰¸', 'è™': 'è™', 'è™«': 'è™«', 'è¡€': 'è¡€',
            'è¡Œ': 'è¡Œ', 'è¡£': 'è¡£', 'è¦‹': 'è¦‹', 'è§’': 'è§’', 'è¨€': 'è¨€', 'è°·': 'è°·',
            'è±†': 'è±†', 'è±•': 'è±•', 'è±¸': 'è±¸', 'è²': 'è²', 'èµ¤': 'èµ¤', 'èµ°': 'èµ°',
            'è¶³': 'è¶³', 'èº«': 'èº«', 'è»Š': 'è»Š', 'è¾›': 'è¾›', 'è¾°': 'è¾°', 'è¾µ': 'è¾µ',
            'é‚‘': 'é‚‘', 'é…‰': 'é…‰', 'é‡†': 'é‡†', 'é‡Œ': 'é‡Œ', 'é‡‘': 'é‡‘', 'é•·': 'é•·',
            'é–€': 'é–€', 'é˜œ': 'é˜œ', 'éš¶': 'éš¸', 'éš¹': 'éš¹', 'é›¨': 'é›¨', 'é‘': 'é‘',
            'é': 'é', 'é¢': 'é¢', 'é©': 'é©', 'éŸ‹': 'éŸ‹', 'éŸ­': 'éŸ­', 'éŸ³': 'éŸ³',
            'é ': 'é ', 'é¢¨': 'é¢¨', 'é£›': 'é£›', 'é£Ÿ': 'é£Ÿ', 'é¦–': 'é¦–', 'é¦™': 'é¦™',
            'é¦¬': 'é¦¬', 'éª¨': 'éª¨', 'é«˜': 'é«˜', 'é«Ÿ': 'é«Ÿ', 'é¬¥': 'é¬¥', 'é¬¯': 'é¬¯',
            'é¬²': 'é¬²', 'é¬¼': 'é¬¼', 'é­š': 'é­š', 'é³¥': 'é³¥', 'é¹µ': 'é¹µ', 'é¹¿': 'é¹¿',
            'éº¦': 'éº¥', 'éº»': 'éº»', 'é»ƒ': 'é»ƒ', 'é»': 'é»', 'é»‘': 'é»‘', 'é»¹': 'é»¹',
            'é»¾': 'é»¾', 'é¼': 'é¼', 'é¼“': 'é¼“', 'é¼ ': 'é¼ ', 'é¼»': 'é¼»', 'é½Š': 'é½Š',
            'é½’': 'é½’', 'é¾': 'é¾', 'é¾œ': 'é¾œ'
        };

        // Reverse map
        const t2sMap = {};
        for (const key in s2tMap) {
            t2sMap[s2tMap[key]] = key;
        }

        let currentMode = 's2t';

        function setMode(mode) {
            currentMode = mode;
            document.querySelectorAll('.mode-btn').forEach(btn => {
                btn.classList.remove('active');
                if (btn.dataset.mode === mode) btn.classList.add('active');
            });
            document.getElementById('pinyinOutput').style.display = 'none';
            document.getElementById('outputText').style.display = 'block';
        }

        function s2t(text) {
            return text.split('').map(char => s2tMap[char] || char).join('');
        }

        function t2s(text) {
            return text.split('').map(char => t2sMap[char] || char).join('');
        }

        function toChineseUppercase(num) {
            const bigDigits = ['é›¶', 'å£¹', 'è´°', 'å', 'è‚†', 'ä¼', 'é™†', 'æŸ’', 'æŒ', 'ç–'];
            const units = ['', 'æ‹¾', 'ä½°', 'ä»Ÿ'];
            const bigUnits = ['', 'ä¸‡', 'äº¿', 'å…†'];
            num = parseFloat(num);
            if (isNaN(num)) return 'æ— æ•ˆæ•°å­—';
            
            const isNegative = num < 0;
            num = Math.abs(num);
            const parts = num.toString().split('.');
            let integerPart = parseInt(parts[0]) || 0;
            let decimalPart = parts[1] || '';
            
            let str = String(integerPart);
            let result = '';
            let sectionIndex = 0;
            
            while (str.length > 0) {
                const section = parseInt(str.slice(-4));
                str = str.slice(0, -4);
                if (section > 0) {
                    let sectionStr = '';
                    let unitPos = 0;
                    let tempSection = section;
                    while (tempSection > 0) {
                        const digit = tempSection % 10;
                        if (digit !== 0) {
                            sectionStr = bigDigits[digit] + units[unitPos] + sectionStr;
                        } else if (sectionStr.length > 0 && sectionStr[0] !== 'é›¶') {
                            sectionStr = 'é›¶' + sectionStr;
                        }
                        tempSection = Math.floor(tempSection / 10);
                        unitPos++;
                    }
                    sectionStr = sectionStr.replace(/é›¶+$/, '');
                    sectionStr = sectionStr.replace(/^å£¹æ‹¾/, 'æ‹¾');
                    result = sectionStr + bigUnits[sectionIndex] + result;
                }
                sectionIndex++;
            }
            result = result.replace(/é›¶+/g, 'é›¶').replace(/é›¶+$/, '').replace(/^é›¶/, '');
            if (!result) result = 'é›¶';
            
            if (decimalPart.length > 0) {
                const jiao = parseInt(decimalPart[0]) || 0;
                const fen = parseInt(decimalPart[1]) || 0;
                if (jiao > 0 || fen > 0) {
                    if (jiao > 0) result += bigDigits[jiao] + 'è§’';
                    if (fen > 0) result += bigDigits[fen] + 'åˆ†';
                } else {
                    result += 'æ•´';
                }
            } else {
                result += 'æ•´';
            }
            if (isNegative) result = 'è´Ÿ' + result;
            return result + 'å…ƒ';
        }

        function toNumber(chinese) {
            const bigDigits = {'é›¶':0,'å£¹':1,'è´°':2,'å':3,'è‚†':4,'ä¼':5,'é™†':6,'æŸ’':7,'æŒ':8,'ç–':9};
            const units = {'æ‹¾':10,'ä½°':100,'ä»Ÿ':1000};
            const bigUnits = {'ä¸‡':10000,'äº¿':100000000,'å…†':1000000000000};
            let num = 0, current = 0;
            chinese = chinese.replace(/ç‚¹/g,'.').replace(/å…ƒ/g,'');
            for (let i = 0; i < chinese.length; i++) {
                const char = chinese[i];
                if (bigDigits[char] !== undefined) {
                    current = current * 10 + bigDigits[char];
                } else if (units[char]) {
                    current = current * units[char];
                    num += current;
                    current = 0;
                } else if (bigUnits[char]) {
                    current = current * bigUnits[char];
                    num += current;
                    current = 0;
                }
            }
            num += current;
            return num;
        }

        function convert() {
            const text = document.getElementById('inputText').value.trim();
            if (!text) { alert('è¯·è¾“å…¥å†…å®¹'); return; }
            
            let result;
            if (currentMode === 's2t') {
                result = s2t(text);
            } else if (currentMode === 't2s') {
                result = t2s(text);
            } else if (currentMode === 'uppercase') {
                const num = parseFloat(text);
                if (isNaN(num)) { alert('è¯·è¾“å…¥æœ‰æ•ˆæ•°å­—'); return; }
                result = toChineseUppercase(num);
            } else if (currentMode === 'digit') {
                result = toNumber(text).toString();
            }
            document.getElementById('outputText').value = result || '';
        }

        function clearAll() {
            document.getElementById('inputText').value = '';
            document.getElementById('outputText').value = '';
            document.getElementById('pinyinOutput').innerHTML = '';
        }

        function copyResult() {
            const text = document.getElementById('outputText').value;
            if (text) {
                navigator.clipboard.writeText(text).then(() => alert('å·²å¤åˆ¶ï¼')).catch(() => {
                    const ta = document.createElement('textarea');
                    ta.value = text;
                    document.body.appendChild(ta);
                    ta.select();
                    document.execCommand('copy');
                    document.body.removeChild(ta);
                    alert('å·²å¤åˆ¶ï¼');
                });
            }
        }
    </script>
</body>
</html>
